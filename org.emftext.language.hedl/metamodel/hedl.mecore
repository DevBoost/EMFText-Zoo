hedl <http://www.emftext.org/language/hedl>

EntityModel (
	entities Entity* <> Entity.entityModel
	enums Enum*
)

abstract Commentable (
	comment EString?
)

abstract NamedElement (
	name EString
)

abstract Type : NamedElement (
	getJavaClassname() EString
)

Entity : Type, Commentable (
	~entityModel EntityModel <> EntityModel.entities
	properties Property*
	constraints Constraint*
	
	getConstructorProperties() Property*
)

abstract Constraint

// a constraint over multiple properties
UniqueConstraint : Constraint (
	~properties Property(2..-1)
)

Enum : Type (
	literals EnumLiteral*
)

EnumLiteral : NamedElement, Commentable

JavaType : Type (
	javaClass EJavaClass
)

Property : NamedElement, Commentable (
	readonly EBoolean
	unique EBoolean
	nullable EBoolean
	persist EBoolean
	refresh EBoolean
	~type Type
	fromMultiplicity EBoolean
	toMultiplicity EBoolean
	~mappedBy Property? // TODO check that mappedBy is a property of the type of this property
	getTypeClassname() EString
	// properties can be either declared to be unique or be automatically unique if
	// they are a one-to-one mapping to some other entity
	isToOneReference() EBoolean
)
