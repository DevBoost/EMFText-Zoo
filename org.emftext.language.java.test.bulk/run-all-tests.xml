<project basedir="." default="run-all-tests" name="JaMoPP bulk tests">
	<property file="run-all-tests.properties"/>
		
	<target name="run-all-tests">

		<junit printsummary="true" fork="true" maxmemory="1024m">
			<classpath>
				<fileset dir="${eclipse.home}/">

					<include name="plugins/org.junit4_*/junit.jar"/>
					
					<include name="plugins/com.ibm.icu.source_*.jar"/>
					<include name="plugins/com.ibm.icu_*.jar"/>
					<include name="plugins/com.jcraft.jsch_*.jar"/>
					<include name="plugins/javax.servlet.jsp.source_*.jar"/>
					<include name="plugins/javax.servlet.jsp_*jar"/>
					<include name="plugins/javax.servlet.source_*.jar"/>
					<include name="plugins/javax.servlet_2.*.jar"/>
					<include name="plugins/net.sourceforge.lpg.lpgjavaruntime_1.*.jar"/>
					<include name="plugins/org.apache.commons.el.source_1.*.jar"/>
					<include name="plugins/org.apache.commons.el_1.*.jar"/>
					<include name="plugins/org.apache.commons.logging.source_1.*.jar"/>
					<include name="plugins/org.apache.commons.logging_1.*.jar"/>
					<include name="plugins/org.apache.jasper.source_5.*.jar"/>
					<include name="plugins/org.apache.jasper_5.*.jar"/>
					<include name="plugins/org.apache.lucene.analysis.source_1.*.jar"/>
					<include name="plugins/org.apache.lucene.analysis_1.*.jar"/>
					<include name="plugins/org.apache.lucene.source_1.*.jar"/>
					<include name="plugins/org.apache.lucene_1.*.jar"/>
					<include name="plugins/org.eclipse.compare.source_3.*.jar"/>
					<include name="plugins/org.eclipse.compare_3.*.jar"/>
					<include name="plugins/org.eclipse.core*.jar"/>
					<include name="plugins/org.eclipse.emf*.jar"/>
					<include name="plugins/org.eclipse.equinox*.jar"/>
					<include name="plugins/org.eclipse.osgi*.jar"/>
					<include name="plugins/org.eclipse.jdt*.jar"/>
					<include name="plugins/org.eclipse.text_3.*.jar"/>
				</fileset>

				<path path="../org.emftext.runtime/bin" />
				<path path="../org.emftext.runtime.antlr/bin" />
				<path path="../org.emftext.runtime.ocl/bin" />
				<path path="../org.emftext.sdk/bin" />
				<path path="../org.emftext.sdk.ant/bin" />
				<path path="../org.emftext.sdk.antlr/bin" />
				<path path="../org.emftext.sdk.automaton/bin" />
				<path path="../org.emftext.sdk.concretesyntax/bin" />
				<path path="../org.emftext.sdk.concretesyntax.resource.cs/bin" />

				<path path="../org.emftext.language.primitive_types/bin" />
				<path path="../org.emftext.language.java/bin" />
				<path path="../org.emftext.language.java.resource/bin" />
				<path path="../org.emftext.language.java.resource.java/bin" />

				<path path="../org.emftext.language.java.test/bin" />
				<path path="../org.emftext.language.java.test.bulk/bin" />
			</classpath>
			<formatter type="plain"/>
			
			<test todir="test_results" name="org.emftext.language.java.test.bulk.AndroMDATest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.ApacheCommonsMathTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.ApacheTomcat6Test"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.Eclipse341Test"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.GWTTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.JacksTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.JBossTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.JDTTestFilesTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.MantissaTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.NetbeansTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.SpringTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.StrutsTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.SunJDKTest"/>
			<test todir="test_results" name="org.emftext.language.java.test.bulk.XercesTest"/>
		
		</junit>

	</target>

</project>
